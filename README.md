# ğŸ‰ ğŸ‰ ğŸ‰ Vue3-Mpa ğŸ‰ ğŸ‰ ğŸ‰

Vue3-Mpa æ˜¯ä¸€ä¸ªå¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å¤šé¡µé¢è„šæ‰‹æ¶ï¼ŒåŸºäº vue3+viteï¼Œé…å¤‡å„ç§å·¥ç¨‹åŒ–å·¥å…·ã€‚

## ç‰¹æ€§ ğŸŒ¼

- æ”¯æŒå‘½ä»¤è¡Œä¸€é”®åˆ›å»ºå­é¡¹ç›®ï¼Œå¹¶ä¸”å¯é€‰æ˜¯å¦ä½¿ç”¨ ts
- æ”¯æŒç›´æ¥å¯åŠ¨æŒ‡å®šå­é¡¹ç›®
- æ”¯æŒæ‰“åŒ…æŒ‡å®šå­é¡¹ç›®
- é…ç½®å®Œå–„çš„å·¥ç¨‹åŒ–å·¥å…·ï¼ŒåŒ…æ‹¬ esintã€prettierã€stulelintã€huskyã€lint-stageã€commitlint
- é…ç½®ä¸€äº›åŸºæœ¬çš„æ’ä»¶ï¼Œä¾‹å¦‚è‡ªåŠ¨å¼•å…¥ Composition APIã€æ‰“åŒ… size åˆ†æå·¥å…·ã€æ‰“åŒ…å‹ç¼©å·¥å…·

## 1.é¡¹ç›®ç»“æ„ ğŸ“–

```
â”œâ”€â”€ README.md
â”œâ”€â”€ .husky   //git hooké’©å­
â”‚Â Â  â”œâ”€â”€ commit-msg //è§„èŒƒ commit message ä¿¡æ¯
â”‚Â Â  â””â”€â”€ verify-commit-msg.mjs  //è„šæœ¬ï¼šcommitlint æ›¿ä»£æ–¹æ¡ˆ
â”œâ”€â”€ dist //æ‰“åŒ…è¾“å‡ºç›®å½•
â”œâ”€â”€ scripts //å­˜æ”¾ä¸€äº›è„šæœ¬
â”‚Â Â  â”œâ”€â”€ template         //åˆ›å»ºå­é¡µé¢çš„jsæ¨¡ç‰ˆ
â”‚Â Â  â”œâ”€â”€ template-ts      //åˆ›å»ºå­é¡µé¢çš„tsæ¨¡ç‰ˆ
â”‚Â Â  â”œâ”€â”€ index.mjs        //åˆ›å»ºå­é¡µé¢çš„è„šæœ¬
â”‚Â Â  â””â”€â”€ multiPages.json  //å­é¡µé¢æè¿°è¯´æ˜é›†åˆæ–‡ä»¶
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ arrets       //å…¬å…±é™æ€èµ„æº
â”‚Â Â  â”œâ”€â”€ components   //å…¬å…±ç»„ä»¶
â”‚Â Â  â”œâ”€â”€ store        //pinia å…±äº«çŠ¶æ€å­˜å‚¨åº“
â”‚Â Â  â”œâ”€â”€ utils        //å…¬å…±æ–¹æ³•
â”‚Â Â  â””â”€â”€ Projects     //å¤šé¡µé¢æ–‡ä»¶å¤¹
â”œâ”€â”€ types  //ts å£°æ˜æ–‡ä»¶
â”œâ”€â”€ .env.development   //å¼€å‘ç¯å¢ƒ-ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.production    //ç”Ÿäº§ç¯å¢ƒ-ç¯å¢ƒå˜é‡
â”œâ”€â”€ .eslintrc.cjs      //eslint é…ç½®
â”œâ”€â”€ .gitignore         //git æäº¤å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .prettierignore    //prettier å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .prettierrc.js     //prettier é…ç½®
â”œâ”€â”€ .stylelintignore   //stylelint å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .stylelintrc.js    //stylelint é…ç½®
â”œâ”€â”€ .pnpm-lock.yaml    //é”å®šé¡¹ç›®äºä¸€ä»½å„ä¸ªä¾èµ–ç¨³å®šçš„ç‰ˆæœ¬ä¿¡æ¯
â”œâ”€â”€ .stats.html        //chunck size åˆ†æé¡µé¢
â”œâ”€â”€ tsconfig.json      //ts é…ç½®
â”œâ”€â”€ tsconfig.node.json //viteåœ¨nodeç¯å¢ƒä¸­çš„ ts è§„åˆ™
â”œâ”€â”€ vite.config.ts     //vite é…ç½®
â”œâ”€â”€ package.json

```

## 2.å¦‚ä½•ä½¿ç”¨ ğŸ”‘

### ğŸª´å®‰è£…ä¾èµ–

```
  //å…¨å±€å®‰è£… pnpm
  npm install -g pnpm
  //åˆ‡æ¢æ·˜å®æº
  pnpm config set registry https://registry.npmmirror.com/

  pnpm i
```

### ğŸª´å¯åŠ¨æµ‹è¯•é¡µé¢

```
npm run dev --page=pageone
```

### ğŸª´åˆ›å»ºå­é¡¹ç›®

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```js
npm run new:page

// åˆ›å»ºä½¿ç”¨tsçš„å­é¡¹ç›®ï¼š
npm run new:page --ts
```

æ‰§è¡Œå‘½ä»¤åç»ˆç«¯æç¤ºï¼šè¯·è¾“å…¥è¦ç”Ÿæˆçš„'é¡µé¢åç§°:é¡µé¢æè¿°'ã€ä¼šç”Ÿæˆåœ¨ /src/Project ç›®å½•ä¸‹  
ä¾‹å¦‚è¾“å…¥ï¼šmypage:æˆ‘çš„é¡µé¢  
è¾“å…¥é¡µé¢ä¿¡æ¯å›è½¦ç¡®è®¤åï¼Œä¼šåœ¨ scripts/multiPages.json ä¸­ç”Ÿæˆå¯¹åº”çš„æ•°æ®ï¼ŒåæœŸå¦‚æœè¦åˆ é™¤é¡µé¢æœ€å¥½åˆ é™¤å¯¹åº”çš„æ•°æ®ä»¥ä¿æŒä¸€è‡´

åœ¨`multiPages.json`é¡µé¢ä¸­å¯ä»¥æŸ¥çœ‹å„ä¸ªé¡µé¢çš„åŠŸèƒ½ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```js
;[
  { chunk: 'pageone', chunkName: 'é¡µé¢1' },
  { chunk: 'pagetwo', chunkName: 'é¡µé¢2' },
  { chunk: 'pagethree', chunkName: 'é¡µé¢3' }
]
```

### ğŸª´è¿è¡ŒæŒ‡å®šå­é¡¹ç›®

```js
npm run dev --page=é¡µé¢åç§°
```

é…ç½®å‚æ•°ï¼Œåœ¨å‘½ä»¤è¡Œä¸Šæ”¾ç½®--foo bar è®¾ç½® foo é…ç½®å‚æ•°ä¸º barã€‚ ä¸€ä¸ª -- å‚æ•°(argument)å‘Šè¯‰ cli è§£æå™¨åœæ­¢è¯»å– flags.ä¸€ä¸ª åœ¨å‘½ä»¤è¡Œç»“å°¾çš„--flag å‚æ•°(parameter)çš„å€¼å°†ä¼šæ˜¯ trueã€‚  
ç„¶ååœ¨ vite.config.ts ä¸­å¯ä»¥è·å–å‚æ•°æ¥è¿›è¡Œæ‰“åŒ…å¯¹åº”çš„é¡¹ç›®  
ç”¨ process.env.npm_config_page è·å–å‚æ•°

### ğŸª´æ‰“åŒ…

> **æ­£å¼ç¯å¢ƒæ‰“åŒ…**

å•é¡µé¢æ‰“åŒ…ï¼š
```js
npm run build --page=é¡µé¢åç§°
```
å…¨é‡æ‰“åŒ…ï¼š
```js
npm run build:all
```

> **æµ‹è¯•ç¯å¢ƒæ‰“åŒ…**   

å•é¡µé¢æ‰“åŒ…ï¼š
```js
npm run build:test --page=é¡µé¢åç§°
```
å…¨é‡æ‰“åŒ…ï¼š
```js
npm run build:all test
```

## è¯´åœ¨æœ€å ğŸ’

å¦‚æœæœ¬è„šæ‰‹æ¶å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¸Œæœ›å¯ä»¥ç‚¹ä¸ª star â­ï¸â­ï¸â­ï¸ è°¢è°¢ ğŸŒ¹ğŸŒ¹ğŸŒ¹

<img src="https://web-abin.gitee.io/abin-web/assets/qq-code-30f0f86d.jpeg" alt="image.png" width="30%" />
